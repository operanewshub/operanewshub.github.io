(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{295:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAAASElEQVR42mNgwAv+N/xvYCAf/G/4DwINlGkHgVLKtL/+rzeqfVT70NJOBqBQOzUMoNgLVAjEUSNGjRgyRpQyMFBiBIX1MwHtAHP6NyHRgCYoAAAAAElFTkSuQmCC"},331:function(e,t,r){var content=r(418);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(51).default)("cb26cf44",content,!0,{sourceMap:!1})},332:function(e,t,r){var content=r(420);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(51).default)("6f4ed429",content,!0,{sourceMap:!1})},343:function(e,t,r){"use strict";r(28),r(11),r(12),r(5),r(19);var n=r(80),o=(r(23),r(2)),c=r(6),m=r(22),d=r(288),l={filters:{timeFormat:function(time){return Object(d.f)(time)},filterPic:function(e){return Object(d.c)(e)}},props:{comment:{type:Object},useMinHeight:{type:Boolean},hideBorder:{type:Boolean}},computed:{portraitUrl:function(){var e=(this.comment||{}).user||{};return Object(d.c)(e.portrait||"")}},data:function(){return{needHide:!1}},methods:{likeClicked:function(){this.$emit("commentClicked","like")},replyClicked:function(){this.$emit("commentClicked","reply")}},mounted:function(){try{this.$refs.content.getBoundingClientRect().height>60&&(this.needHide=!0)}catch(e){}}},f=(r(417),r(18)),h=Object(f.a)(l,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"comment-wrapper",class:{"use-min-height":e.useMinHeight,"hide-border":e.hideBorder,rtl:e.$rtlMode()}},[r("div",{staticClass:"info"},[e.comment.user?r("div",{staticClass:"user"},[r("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.portraitUrl,expression:"portraitUrl"}],staticClass:"portrait",attrs:{rel:"nofollow"}}),e._v(" "),r("span",{staticClass:"name"},[e._v(e._s(e.comment.user.name))]),e._v(" "),r("span",{staticClass:"dot"},[e._v("Â·")]),e._v(" "),r("span",{staticClass:"timestamp"},[e._v(e._s(e._f("timeFormat")(e.comment.timestamp)))])]):e._e(),e._v(" "),r("div",{staticClass:"like-and-replies",class:{liked:1===e.comment.like_flag}},[r("span",{staticClass:"reply-btn",on:{click:function(t){return t.stopPropagation(),e.replyClicked(t)}}},[e._v(e._s(e.$t("reply")))])])]),e._v(" "),r("div",{ref:"content",staticClass:"content ml-over-ellipsis",style:{"-webkit-line-clamp":e.needHide?3:""}},[e._v("\n\t\t\t"+e._s(e.comment.content)+"\n\t\t\t"),e.needHide?r("div",{staticClass:"see-more-btn",on:{click:function(t){e.needHide=!1}}},[e._v("... "),r("span",[e._v(e._s(e.$t("seeMore")))])]):e._e()])])}),[],!1,null,"d67351cc",null).exports;function v(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var w={props:{comments:{type:Array},postId:{type:String},shouldLoad:{type:Boolean},type:{type:String}},data:function(){return{commentsLocal:[],alreadyLoaded:!1}},components:{Comment:h},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(Object(source),!0).forEach((function(t){Object(c.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):v(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(m.c)({country:function(e){return e.config.country},language:function(e){return e.config.language}})),mounted:function(){this.loadHotComments()},watch:{postId:function(){this.loadHotComments()},shouldLoad:function(e){e&&!this.alreadyLoaded&&(this.alreadyLoaded=!0,this.loadHotComments())}},methods:{loadHotComments:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r,o,c,m;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.alreadyLoaded){t.next=2;break}return t.abrupt("return");case 2:if(r=e.comments,!Array.isArray(r)||!r.length){t.next=6;break}return e.$set(e,"commentsLocal",Object(n.a)(r)),t.abrupt("return");case 6:return(o=e.postId)||console.warn("PostId needed for loading comments."),c=e.$cookies.get("deviceId"),t.prev=9,t.next=12,e.$axios.getHotComments({post_id:o,num:4,reply_num:0,post_type:"video"===e.type?"clip":"news"},{"Device-Id":c,Country:e.country,Language:e.language});case 12:m=t.sent,t.next=19;break;case 15:return t.prev=15,t.t0=t.catch(9),console.warn("Fetching comments for ".concat(o," failed. ").concat(t.t0)),t.abrupt("return");case 19:m&&Array.isArray(m.content)?(e.$set(e,"commentsLocal",Object(n.a)(m.content)),e.$emit("loaded",m.content.length>0)):(e.$set(e,"commentsLocal",[]),e.$emit("loaded",!1));case 20:case"end":return t.stop()}}),t,null,[[9,15]])})))()},commentClicked:function(source){var e,t;switch(source){case"like":e="h5_detail_like";break;case"reply":e="h5_detail_reply";break;case"more":e="h5_detail_seemorebt"}switch(this.type){case"community":t="cp_h5_Posts";break;case"video":t="cp_h5_videocomment";break;default:t="cp_h5_comment"}this.$openApp({newsEntryId:this.postId,position:e,pid:t})},seeMoreClicked:function(){this.commentClicked("more")}}},y=(r(419),Object(f.a)(w,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.commentsLocal.length?r("div",{staticClass:"comments-wrapper",class:[{"with-mask-btn":e.commentsLocal.length>3,"no-padding":"community"===e.type,rtl:e.$rtlMode()}]},[r("div",{staticClass:"title"},[r("span",[e._v(e._s(e.$t("top_comments")))])]),e._v(" "),e._l(e.commentsLocal,(function(t,n){return r("comment",{key:t.id,attrs:{comment:t,useMinHeight:3===n,hideBorder:n===e.commentsLocal.length-1},on:{commentClicked:e.commentClicked}})})),e._v(" "),r("div",{staticClass:"btn-wrapper"},[r("button",{staticClass:"open-app-btn",on:{click:function(t){return t.stopPropagation(),e.seeMoreClicked(t)}}},[e._v("\n      "+e._s("ng"===this.country&&"en"===this.language?"Load app to read more comments":e.commentsLocal.length<4?e.$t("shareYourOpinion"):e.$t("openAndSeeComments"))+"\n    ")])])],2):e._e()}),[],!1,null,"299ec238",null));t.a=y.exports},417:function(e,t,r){"use strict";var n=r(331);r.n(n).a},418:function(e,t,r){(t=r(50)(!1)).push([e.i,".comment-wrapper[data-v-d67351cc]{margin:0 .08rem;padding:.16rem .08rem;font-size:.12rem;border-bottom:.005rem solid #eaeaea}.comment-wrapper.rtl .user .portrait[data-v-d67351cc]{margin-right:0;margin-left:.06rem}.comment-wrapper .info[data-v-d67351cc]{display:flex;justify-content:space-between}.comment-wrapper .info .like-and-replies[data-v-d67351cc],.comment-wrapper .info .user[data-v-d67351cc]{display:flex;align-items:center;font-size:.12rem}.comment-wrapper .info .user[data-v-d67351cc]{color:#7b7b7b}.comment-wrapper .info .user .portrait[data-v-d67351cc]{display:inline-block;margin-right:.06rem;border-radius:50%;width:.28rem;height:.28rem;background-repeat:no-repeat;background-size:contain;background-position:50%;background-color:#eaeaea}.comment-wrapper .info .user .name[data-v-d67351cc]{color:#222;max-width:1.2rem;overflow:hidden;white-space:nowrap;word-break:break-all;text-overflow:ellipsis}.comment-wrapper .info .user .dot[data-v-d67351cc]{margin:0 .03rem}.comment-wrapper .info .like-and-replies[data-v-d67351cc]{color:#aaa}.comment-wrapper .info .like-and-replies img[data-v-d67351cc]{width:.15rem;height:.15rem}.comment-wrapper .info .like-and-replies .like-num[data-v-d67351cc]{margin:0 .1rem}.comment-wrapper .info .like-and-replies .reply-btn[data-v-d67351cc]{display:inline-block;width:.52rem;height:.22rem;border-radius:.12rem;text-align:center;line-height:.22rem;color:#007aff}.comment-wrapper .content[data-v-d67351cc]{position:relative;margin-top:.12rem;line-height:.17rem;font-size:.14rem;color:#222}.comment-wrapper .content .see-more-btn[data-v-d67351cc]{position:absolute;bottom:0;right:0;background:#fff}.comment-wrapper .content .see-more-btn span[data-v-d67351cc]{color:#aaa}.comment-wrapper.use-min-height[data-v-d67351cc]{min-height:1.3rem}.comment-wrapper.hide-border[data-v-d67351cc]{border-bottom:none}",""]),e.exports=t},419:function(e,t,r){"use strict";var n=r(332);r.n(n).a},420:function(e,t,r){(t=r(50)(!1)).push([e.i,'.comments-wrapper[data-v-299ec238]{position:relative;box-sizing:border-box;width:100%;background-color:#fff;padding-bottom:.2rem}.comments-wrapper[data-v-299ec238]:before{content:"";position:absolute;top:0;left:0;display:block;width:100%;height:.02rem;background:#eee}.comments-wrapper.rtl .title[data-v-299ec238]{padding:.14rem .08rem .1rem 0}.comments-wrapper.rtl .title[data-v-299ec238]:before{margin-right:0;margin-left:.06rem}.comments-wrapper .title[data-v-299ec238]{display:flex;align-items:center;padding:.14rem 0 .1rem .08rem;font-size:.14rem;color:#7b7b7b;letter-spacing:0}.comments-wrapper .title[data-v-299ec238]:before{content:"";display:inline-block;width:.02rem;height:.1rem;margin-right:.06rem;background:#c01e2f;border-radius:1px}.comments-wrapper .btn-wrapper[data-v-299ec238]{box-sizing:border-box;padding:.26rem .16rem;flex:1;background:#fff}.comments-wrapper .open-app-btn[data-v-299ec238]{display:block;margin:0 auto;width:3.28rem;height:.4rem;border-radius:6px;background:#007aff;font-size:.14rem;color:#fff;letter-spacing:.005rem;text-align:center}.comments-wrapper.with-mask-btn[data-v-299ec238]{padding-top:.06rem}.comments-wrapper.with-mask-btn .btn-wrapper[data-v-299ec238]{position:absolute;left:0;bottom:.2rem;padding-bottom:.2rem}.comments-wrapper.with-mask-btn .btn-wrapper[data-v-299ec238]:after{position:absolute;top:-.4rem;left:0;content:"";display:block;width:100%;height:.4rem;background-image:linear-gradient(180deg,hsla(0,0%,100%,0),#fff 99%)}.no-padding[data-v-299ec238]{padding-bottom:0}.no-padding.with-mask-btn .btn-wrapper[data-v-299ec238]{bottom:0}',""]),e.exports=t}}]);